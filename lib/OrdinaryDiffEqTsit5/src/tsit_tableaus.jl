struct Tsit5ConstantCache <: OrdinaryDiffEqConstantCache end
struct Tsit5ConstantCacheActual{T, T2}
    c::Vector{T2}
    a::Matrix{T}
    btilde::Vector{T}
end

@fold function Tsit5ConstantCacheActual(::Type{T},
        ::Type{T2}) where {T <: CompiledFloats,
        T2 <: CompiledFloats}
    c = convert(Vector{T2}, [0.161, 0.327, 0.9, 0.9800255409045097, 1, 1])
    
    a = convert(Matrix{T}, [
        0.161                     0                       0                       0                       0                       0;
        -0.008480655492356989     0.335480655492357       0                       0                       0                       0;
        2.8971530571054935        -6.359448489975075      4.3622954328695815      0                       0                       0;
        5.325864828439257         -11.748883564062828     7.4955393428898365      -0.09249506636175525     0                       0;
        5.86145544294642          -12.92096931784711      8.159367898576159       -0.071584973281401       -0.028269050394068383   0;
        0.09646076681806523       0.01                    0.4798896504144996      1.379008574103742        -3.290069515436081      2.324710524099774
    ])
    # b1 =       convert(T,0.09468075576583945)
    # b2 =       convert(T,0.009183565540343254)
    # b3 =       convert(T,0.4877705284247616)
    # b4 =       convert(T,1.234297566930479)
    # b5 =       convert(T,-2.7077123499835256)
    # b6 =       convert(T,1.866628418170587)
    # b7 =       convert(T,0.015151515151515152)
    btilde = convert(Vector{T}, [-0.00178001105222577714, -0.0008164344596567469, 0.007880878010261995, -0.1447110071732629, 0.5823571654525552, -0.45808210592918697, 0.015151515151515152])
    Tsit5ConstantCacheActual(c, a, btilde)
end

@fold function Tsit5ConstantCacheActual(::Type{T}, ::Type{T2}) where {T, T2}
    c = convert(Vector{T2}, [161 // 1000, 327 // 1000, 9 // 10, big"0.9800255409045096857298102862870245954942137979563024768854764293221195950761080302604", 1, 1])

    a = convert(Matrix{T}, [
        0  0                       0                       0                       0                       0                       0;
        161 // 1000                0                       0                       0                       0                       0;
        big"-.8480655492356988544426874250230774675121177393430391537369234245294192976164141156943e-2" big".3354806554923569885444268742502307746751211773934303915373692342452941929761641411569" 0 0 0 0;
        big"2.897153057105493432130432594192938764924887287701866490314866693455023795137503079289" big"-6.359448489975074843148159912383825625952700647415626703305928850207288721235210244366" big"4.362295432869581411017727318190886861027813359713760212991062156752264926097707165077" 0 0 0;
        big"5.325864828439256604428877920840511317836476253097040101202360397727981648835607691791" big"-11.74888356406282787774717033978577296188744178259862899288666928009020615663593781589" big"7.495539342889836208304604784564358155658679161518186721010132816213648793440552049753" big"-.9249506636175524925650207933207191611349983406029535244034750452930469056411389539635e-1" 0 0;
        big"5.861455442946420028659251486982647890394337666164814434818157239052507339770711679748" big"-12.92096931784710929170611868178335939541780751955743459166312250439928519268343184452" big"8.159367898576158643180400794539253485181918321135053305748355423955009222648673734986" big"-.7158497328140099722453054252582973869127213147363544882721139659546372402303777878835e-1" big"-.2826905039406838290900305721271224146717633626879770007617876201276764571291579142206e-1" 0;
        big".9646076681806522951816731316512876333711995238157997181903319145764851595234062815396e-1" 1 // 100 big".4798896504144995747752495322905965199130404621990332488332634944254542060153074523509" big"1.379008574103741893192274821856872770756462643091360525934940067397245698027561293331" big"-3.290069515436080679901047585711363850115683290894936158531296799594813811049925401677" big"2.324710524099773982415355918398765796109060233222962411944060046314465391054716027841";
    ])

    # b1 =       convert(T,big".9468075576583945807478876255758922856117527357724631226139574065785592789071067303271e-1")
    # b2 =       convert(T,big".9183565540343253096776363936645313759813746240984095238905939532922955247253608687270e-2")
    # b3 =       convert(T,big".4877705284247615707855642599631228241516691959761363774365216240304071651579571959813")
    # b4 =       convert(T,big"1.234297566930478985655109673884237654035539930748192848315425833500484878378061439761")
    # b5 =       convert(T,big"-2.707712349983525454881109975059321670689605166938197378763992255714444407154902012702")
    # b6 =       convert(T,big"1.866628418170587035753719399566211498666255505244122593996591602841258328965767580089")
    # b7 =       convert(T,1//66)
    btilde = convert(Vector{T}, [
        big"-1.780011052225771443378550607539534775944678804333659557637450799792588061629796e-03",
        big"-8.164344596567469032236360633546862401862537590159047610940604670770447527463931e-04",
        big"7.880878010261996010314727672526304238628733777103128603258129604952959142646516e-03",
        big"-1.44711007173262907537165147972635116720922712343167677619514233896760819649515e-01",
        big"5.823571654525552250199376106520421794260781239567387797673045438803694038950012e-01",
        big"-4.580821059291869466616365188325542974428047279788398179474684434732070620889539e-01",
        1 // 66
    ])
    
    Tsit5ConstantCacheActual(c, a, btilde)
end

"""
Coefficients for the polynomial
bᵢΘ = ri1*Θ + ri2*Θ^2 + ri3*Θ^3 + ...

These are the coefficients of the expanded form of the polynomials from

Runge–Kutta pairs of order 5(4) satisfying only the first column
simplifying assumption

Ch. Tsitouras
"""
@fold function Tsit5Interp(::Type{T}) where {T <: CompiledFloats}
    r11 = convert(T, 1.0)
    r12 = convert(T, -2.763706197274826)
    r13 = convert(T, 2.9132554618219126)
    r14 = convert(T, -1.0530884977290216)

    r22 = convert(T, 0.13169999999999998)
    r23 = convert(T, -0.2234)
    r24 = convert(T, 0.1017)

    r32 = convert(T, 3.9302962368947516)
    r33 = convert(T, -5.941033872131505)
    r34 = convert(T, 2.490627285651253)

    r42 = convert(T, -12.411077166933676)
    r43 = convert(T, 30.33818863028232)
    r44 = convert(T, -16.548102889244902)

    r52 = convert(T, 37.50931341651104)
    r53 = convert(T, -88.1789048947664)
    r54 = convert(T, 47.37952196281928)

    r62 = convert(T, -27.896526289197286)
    r63 = convert(T, 65.09189467479366)
    r64 = convert(T, -34.87065786149661)

    r72 = convert(T, 1.5)
    r73 = convert(T, -4)
    r74 = convert(T, 2.5)

    return r11, r12, r13, r14, r22, r23, r24, r32, r33, r34, r42, r43, r44, r52, r53, r54,
    r62, r63, r64, r72, r73, r74
end

"""
Coefficients for the polynomial
bᵢΘ = ri1*Θ + ri2*Θ^2 + ri3*Θ^3 + ...

These are the coefficients of the expanded form of the polynomials from

Runge–Kutta pairs of order 5(4) satisfying only the first column
simplifying assumption

Ch. Tsitouras
"""
@fold function Tsit5Interp(::Type{T}) where {T}
    r11 = convert(T, big"0.999999999999999974283372471559910888475488471328")
    r12 = convert(T, big"-2.763706197274825911336735930481400260916070804192")
    r13 = convert(T, big"2.91325546182191274375068099306808")
    r14 = convert(T, -1.0530884977290216)

    r22 = convert(T, big"0.13169999999999999727")
    r23 = convert(T, big"-0.22339999999999999818")
    r24 = convert(T, 0.1017)

    r32 = convert(T, big"3.93029623689475152850687446709813398")
    r33 = convert(T, big"-5.94103387213150473470249202589458001")
    r34 = convert(T, big"2.490627285651252793")

    r42 = convert(T, big"-12.411077166933676983734381540685453484102414134010752")
    r43 = convert(T, big"30.3381886302823215981729903691836576")
    r44 = convert(T, big"-16.54810288924490272")

    r52 = convert(T, big"37.50931341651103919496903965334519631242339792120440212")
    r53 = convert(T, big"-88.1789048947664011014276693541209817")
    r54 = convert(T, big"47.37952196281928122")

    r62 = convert(T, big"-27.896526289197287805948263144598643896")
    r63 = convert(T, big"65.09189467479367152629021928716553658")
    r64 = convert(T, big"-34.87065786149660974")

    r72 = convert(T, 1.5)
    r73 = convert(T, -4)
    r74 = convert(T, 2.5)

    return r11, r12, r13, r14, r22, r23, r24, r32, r33, r34, r42, r43, r44, r52, r53, r54,
    r62, r63, r64, r72, r73, r74
end
